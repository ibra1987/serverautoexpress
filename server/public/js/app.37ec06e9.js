(function(e){function t(t){for(var a,c,o=t[0],i=t[1],u=t[2],d=0,m=[];d<o.length;d++)c=o[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&m.push(r[c][0]),r[c]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);l&&l(t);while(m.length)m.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,o=1;o<n.length;o++){var i=n[o];0!==r[i]&&(a=!1)}a&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={app:0},s=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=i;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("1530")},"0442":function(e,t,n){"use strict";n("afd1")},"0a0e":function(e,t,n){"use strict";n("65de")},"0dfe":function(e,t,n){},1530:function(e,t,n){},1896:function(e,t,n){"use strict";n("adb3")},"1fc17":function(e,t,n){"use strict";n("205e")},"1fd4":function(e,t,n){"use strict";n("b976")},"205e":function(e,t,n){},"23f9":function(e,t,n){"use strict";n("ecd1")},"3bea":function(e,t,n){"use strict";n("d34d")},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id="4678"},"53d7":function(e,t,n){"use strict";n("6043")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=n("8c4f"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.isAuthenticated?e._e():n("home"),e.isAuthenticated?n("div",{staticClass:"container"},[n("my-header"),n("navBar"),n("router-view"),n("footer",[e._v("tous droits reserves @"+e._s(e.auto))])],1):e._e()],1)},c=[],o=n("1da1"),i=n("5530"),u=(n("96cf"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.smallDevice?n("nav",{staticClass:"small"},[e._m(0)]):e._e(),e.smallDevice?e._e():n("nav",[n("ul",[n("router-link",{attrs:{to:"/tableaudebord"}},[n("li",[n("div",[e._v("\n            Tableau de bord\n          ")])])]),n("router-link",{attrs:{to:"/candidates"}},[n("li",[n("div",[e._v("\n            Candidates\n          ")])])]),n("router-link",{attrs:{to:"/charges"}},[n("li",[n("div",[e._v("\n            Charges\n          ")])])]),n("router-link",{attrs:{to:"/vehicules"}},[n("li",[n("div",[e._v("\n            Véhicules\n          ")])])]),n("router-link",{attrs:{to:"/echeances"}},[n("li",[n("div",[e._v("\n            Echeances\n          ")])])]),n("router-link",{attrs:{to:"/personnel"}},[n("li",[n("div",[e._v("\n            Personnel\n          ")])])])],1)])])}),l=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hamburgerMenu"},[n("div"),n("div"),n("div")])}],d={name:"navBar",data:function(){return{smallDevice:!1}}},m=d,f=(n("1896"),n("2877")),v=Object(f["a"])(m,u,l,!1,null,"cd6dd0bc",null),h=v.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"homeContainer"},[n("form",{staticClass:"loginForm",on:{submit:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}}},[n("h3",[e._v("Veuillez vous connecter")]),e.errors.length?n("span",[e._v("sdgffsgsgdf")]):e._e(),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",placeholder:"email"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"mot de pass"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("input",{attrs:{type:"submit",value:"Se connecter"}})])])},b=[],g=(n("b0c0"),n("2f62")),_=n("bc3a"),j=n.n(_),C={name:"Home",data:function(){return{name:"",password:"",errors:[]}},methods:Object(i["a"])(Object(i["a"])({},Object(g["b"])(["login"])),{},{handleLogin:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={Name:e.name,Password:e.password},t.next=3,j.a.post("api/users/login",n,{withCredentials:!0},{headers:{"Content-Type":"application/json"}});case 3:if(a=t.sent,400!==a.status){t.next=6;break}return t.abrupt("return",e.errors.push("Merci de verifier vos informations"));case 6:200===a.status&&(e.login(),e.$router.push("/tableaudebord"));case 7:case"end":return t.stop()}}),t)})))()}})},w=C,A=(n("1fc17"),Object(f["a"])(w,p,b,!1,null,"24aa4fb8",null)),E=A.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"myHeader"},[e.showAutoForm?n("add-auto-ecole",{on:{hideModal:e.hideModal}}):e._e(),n("h1",[e._v("Auto Ecole "+e._s(e.selected))]),n("select",{attrs:{selected:e.selected},on:{change:function(t){return e.changeAuto(t)}}},e._l(e.autoEcoles,(function(t){return n("option",{key:t._id,domProps:{value:t.Name}},[e._v(e._s(t.Name))])})),0),n("span",{on:{click:e.newAutoAdd}},[e._v("+")])],1)},y=[],O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modalContainer"},[n("div",{staticClass:"modal"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.addNewAuto.apply(null,arguments)}}},[n("div",{staticClass:"inputContainer"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.autoEcole,expression:"autoEcole"}],attrs:{type:"text",placeholder:"Ajouter une nouvelle auto ecole"},domProps:{value:e.autoEcole},on:{input:function(t){t.target.composing||(e.autoEcole=t.target.value)}}}),n("h4",{on:{click:e.hide}},[e._v("X")])]),n("submit-button",{attrs:{btnText:"Ajouter",type:"button"}})],1)])])},k=[],N=(n("fb6a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"btn btn-submit",attrs:{type:"type"}},[e._v("\n  "+e._s(e.btnText)+"\n")])}),M=[],D={name:"submitButton",props:["btnText","type"]},R=D,P=Object(f["a"])(R,N,M,!1,null,"3b56a548",null),L=P.exports,T={name:"addAutoEcole",components:{submitButton:L},data:function(){return{autoEcole:""}},methods:Object(i["a"])(Object(i["a"])({},Object(g["b"])(["addNewAutoEcole"])),{},{hide:function(){this.$emit("hideModal")},addNewAuto:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=e.autoEcole){t.next=2;break}return t.abrupt("return");case 2:return n=e.autoEcole.toLowerCase(),n=n.charAt(0).toUpperCase()+n.slice(1),a={Name:n},t.next=7,e.addNewAutoEcole(a);case 7:e.autoEcole="",e.hide();case 9:case"end":return t.stop()}}),t)})))()}})},Y=T,F=(n("f521"),Object(f["a"])(Y,O,k,!1,null,null,null)),I=F.exports,$={name:"myHeader",components:{addAutoEcole:I},data:function(){return{showAutoForm:!1,newAuto:"",selected:""}},methods:Object(i["a"])(Object(i["a"])({},Object(g["b"])(["selectNewAuto","getAutoEcoles","getAllAvances"])),{},{changeAuto:function(e){this.selectNewAuto(e.target.value),this.selected=e.target.value,this.getAllAvances(this.selected)},hideModal:function(){this.showAutoForm=!1},newAutoAdd:function(){this.showAutoForm=!this.showAutoForm}}),computed:Object(i["a"])(Object(i["a"])({},Object(g["c"])(["selectedAuto","allAutoEcoles"])),{},{autoEcoles:function(){return this.allAutoEcoles}}),created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getAutoEcoles();case 2:e.selected=e.selectedAuto;case 3:case"end":return t.stop()}}),t)})))()}},S=$,V=(n("53d7"),Object(f["a"])(S,x,y,!1,null,"234bbf44",null)),B=V.exports,z={name:"App",components:{navBar:h,myHeader:B,Home:E},computed:Object(i["a"])(Object(i["a"])({},Object(g["c"])(["selectedAuto","isAuthenticated"])),{},{auto:function(){return this.selectedAuto}}),methods:Object(i["a"])({},Object(g["b"])(["getCandidates"])),created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getCandidates();case 2:case"end":return t.stop()}}),t)})))()}},H=z,W=(n("034f"),Object(f["a"])(H,s,c,!1,null,null,null)),q=W.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"candidatesContainer"},[n("div",{staticClass:"btnContainer"},[n("router-link",{attrs:{to:"/candidates/create"}},[e.editForm||e.addForm?e._e():n("submit-button",{attrs:{btnText:"Ajouter"},nativeOn:{click:function(t){return e.showForm.apply(null,arguments)}}})],1),n("div",[e._v("\n      Candidats ayant paye : "),n("span",{staticClass:"paye"},[e._v(" "+e._s(e.paye))])])],1),n("add-candidate",{directives:[{name:"show",rawName:"v-show",value:e.addForm,expression:"addForm"}],on:{hideme:e.showForm}}),n("table",{directives:[{name:"show",rawName:"v-show",value:!e.addForm,expression:"!addForm"}]},[e._m(0),n("tbody",[e._l(e.candidates,(function(t){return n("tr",{key:t._id,class:parseInt(t.Price)===e.sumAvances(t.Avances)?"paid":""},[n("td",[e._v(e._s(e.order(e.candidates,t)))]),n("td",[e._v(e._s(t.Fname)+" "+e._s(t.Lname))]),n("td",[e._v(e._s(t.Cin))]),n("td",[e._v(e._s(t.Categorie))]),n("td",[e._v("\n          "+e._s(t.Price)+"\n        ")]),n("td",[n("span",{class:t.Price===e.sumAvances(t.Avances)?"paid":"avance",on:{click:function(n){return e.manageAvances(t._id)}}},[e._v("\n            "+e._s(t.Avances.length?e.sumAvances(t.Avances):0)+"\n          ")])]),n("td",{staticClass:"operationsContainer"},[n("router-link",{attrs:{to:{name:"edit",params:{id:t._id}}}},[n("i",{staticClass:"fas fa-user-edit"})]),n("i",{staticClass:"fas fa-trash-alt",on:{click:function(n){return e.confirmation(t._id)}}})],1)])})),n("td")],2)]),e.chargement?n("div",{staticClass:"chargement"},[e._v("chargement ...")]):e._e(),e.showAvance?n("Avances",{attrs:{id:e.id},on:{hideAvances:e.triggerAvanceModal}}):e._e()],1)},J=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("N°")]),n("th",[e._v("Nom du candidat")]),n("th",[e._v("N° de CIN")]),n("th",[e._v("Catégorie")]),n("th",[e._v("Prix")]),n("th",[e._v("Somme des avances")]),n("th",[e._v("Opérations")])])])}],U=(n("99af"),n("d3b7"),n("25f0"),n("a630"),n("3ca3"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"formContainer"},[e._m(0),n("div",{staticClass:"errorsContainer"},[e._l(e.errors,(function(t){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.errors.length,expression:"errors.length"}],key:t.index,staticClass:"errors"},[n("ul",[n("li",[e._v(e._s(t))])])])})),e._l(e.success,(function(t){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.success.length,expression:"success.length"}],key:t.index,staticClass:"success"},[n("ul",[n("li",[e._v(e._s(t))])])])}))],2),n("submit-button",{staticClass:"annuler",attrs:{btnText:"Annuler",type:"button"},nativeOn:{click:function(t){return e.hide.apply(null,arguments)}}}),n("form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.validate.apply(null,arguments)}}},[n("div",{staticClass:"inputsContainer"},[n("div",{staticClass:"leftSide"},[n("div",{staticClass:"selectDiv"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.Fname,expression:"Fname"}],staticClass:"input fullName",attrs:{type:"text",placeholder:"Prénom"},domProps:{value:e.Fname},on:{focus:function(t){return e.focused(t)},blur:function(t){return e.focused(t)},input:function(t){t.target.composing||(e.Fname=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.Lname,expression:"Lname"}],staticClass:"input fullName",attrs:{type:"text",placeholder:"Nom"},domProps:{value:e.Lname},on:{focus:function(t){return e.focused(t)},blur:function(t){return e.focused(t)},input:function(t){t.target.composing||(e.Lname=t.target.value)}}})]),n("div",{staticClass:"inputDiv"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.Cin,expression:"Cin"}],staticClass:"input",attrs:{type:"text",placeholder:"N° de Cin"},domProps:{value:e.Cin},on:{focus:function(t){return e.focused(t)},blur:function(t){return e.focused(t)},input:function(t){t.target.composing||(e.Cin=t.target.value)}}})]),n("div",{staticClass:"inputDiv"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.Adresse,expression:"Adresse"}],staticClass:"input",attrs:{type:"text",placeholder:"Adresse"},domProps:{value:e.Adresse},on:{focus:function(t){return e.focused(t)},blur:function(t){return e.focused(t)},input:function(t){t.target.composing||(e.Adresse=t.target.value)}}})]),n("div",{staticClass:"inputDiv"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.Tel,expression:"Tel"}],staticClass:"input",attrs:{type:"text",placeholder:"N° de tel"},domProps:{value:e.Tel},on:{focus:function(t){return e.focused(t)},blur:function(t){return e.focused(t)},input:function(t){t.target.composing||(e.Tel=t.target.value)}}})])]),n("div",{staticClass:"rightSide"},[n("div",{staticClass:"selectDiv"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.Categorie,expression:"Categorie"}],on:{focus:function(t){return e.focused(t)},blur:function(t){return e.focused(t)},change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.Categorie=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"Catégorie"}},[e._v("Catégorie")]),n("option",{attrs:{value:"A"}},[e._v("A")]),n("option",{attrs:{value:"B"}},[e._v("B")]),n("option",{attrs:{value:"C"}},[e._v("C")]),n("option",{attrs:{value:"D"}},[e._v("D")]),n("option",{attrs:{value:"EC"}},[e._v("EC")])]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.autoEcole,expression:"autoEcole"}],on:{focus:function(t){return e.focused(t)},blur:function(t){return e.focused(t)},change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.autoEcole=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"Auto Ecole"}},[e._v("Auto Ecole")]),e._l(e.autoEcoles,(function(t){return n("option",{key:t._id,domProps:{value:t.Name}},[e._v("\n              "+e._s(t.Name)+"\n            ")])}))],2),n("select",{directives:[{name:"model",rawName:"v-model",value:e.Extension,expression:"Extension"}],on:{focus:function(t){return e.focused(t)},blur:function(t){return e.focused(t)},change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.Extension=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"",selected:""}},[e._v("Extension")]),n("option",{attrs:{value:"true"}},[e._v("Oui")]),n("option",{attrs:{value:"false"}},[e._v("Non")])])]),n("div",{staticClass:"inputDiv"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.Price,expression:"Price"}],staticClass:"input",attrs:{type:"Number",placeholder:"Prix"},domProps:{value:e.Price},on:{focus:function(t){return e.focused(t)},blur:function(t){return e.focused(t)},input:function(t){t.target.composing||(e.Price=t.target.value)}}})]),n("div",{staticClass:"inputDiv"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.Avance,expression:"Avance"}],staticClass:"input",attrs:{type:"number",placeholder:"Avance"},domProps:{value:e.Avance},on:{focus:function(t){return e.focused(t)},blur:function(t){return e.focused(t)},input:function(t){t.target.composing||(e.Avance=t.target.value)}}})]),n("div",{staticClass:"inputDiv"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.Referent,expression:"Referent"}],staticClass:"input",attrs:{type:"text",placeholder:"Referent"},domProps:{value:e.Referent},on:{focus:function(t){return e.focused(t)},blur:function(t){return e.focused(t)},input:function(t){t.target.composing||(e.Referent=t.target.value)}}})])])]),n("div",{staticClass:"btnContainer"},[n("submit-button",{attrs:{type:"",btnText:"Enregistrer"}})],1)])],1)}),G=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"heading"},[n("h2",[e._v("\n      Ajouter un nouveau candidate\n    ")])])}],K={name:"addCandidate",components:{submitButton:L},data:function(){return{success:[],errors:[],Fname:"",Lname:"",Cin:"",Adresse:"",Categorie:"Catégorie",Price:"",Referent:"",Tel:"",Extension:!1,autoEcole:"Auto Ecole",Avance:""}},computed:Object(i["a"])(Object(i["a"])({},Object(g["c"])(["allAutoEcoles"])),{},{autoEcoles:function(){return this.allAutoEcoles}}),methods:Object(i["a"])(Object(i["a"])({focused:function(e){if(e.target.classList.contains("focused"))return e.target.classList.remove("focused");e.target.classList.add("focused")}},Object(g["b"])(["addCandidate"])),{},{hide:function(){this.$emit("hideme")},validate:function(){var e=this;if(""===this.Fname||""===this.Lname||""===this.Cin||""===this.Price||""===this.Categorie||""===this.autoEcole)return this.errors.length||this.errors.push("Merci de remplir tous les champs obligators"),setTimeout((function(){e.errors=[]}),4e3);if(isNaN(this.Price))return"le prix doit etre un chiffre";var t={Fname:this.Fname,Lname:this.Lname,Cin:this.Cin,Adresse:this.Adresse,Categorie:this.Categorie,Price:this.Price,Referent:this.Referent,Tel:this.Tel,Extension:this.Extension,autoEcole:this.autoEcole,Avance:this.Avance};return this.addCandidate(t),this.$emit("hideme"),this.Fname="",this.Lname="",this.Cin="",this.Adresse="",this.Categorie="Catégorie",this.Price="",this.Referent="",this.Tel="",this.Extension=!1,this.autoEcole="Auto Ecole",this.Avance="",this.success.length||this.success.push("enregistré avec succès"),setTimeout((function(){e.success=[]}),4e3)}})},Q=K,Z=(n("0a0e"),Object(f["a"])(Q,U,G,!1,null,"a59aa1dc",null)),ee=Z.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"avancesContainer"},[n("div",{staticClass:"modal"},[n("div",{staticClass:"title"},[n("span",{staticClass:"exit",on:{click:function(t){return e.$emit("hideAvances")}}},[n("h3",[e._v("X")])]),n("h2",[e._v("\n        Ajouter une nouvelle Avance\n      ")])]),n("div",{staticClass:"avanceCandidate"},[n("h1",[e._v(e._s(e.candidate.Fname)+" "+e._s(e.candidate.Lname))])]),n("div",{staticClass:"errorsContainer"},[e._l(e.errors,(function(t){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.errors.length,expression:"errors.length"}],key:t.index,staticClass:"errors"},[n("ul",[n("li",[e._v(e._s(t))])])])})),e._l(e.success,(function(t){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.success.length,expression:"success.length"}],key:t.index,staticClass:"success"},[n("ul",[n("li",[e._v(e._s(t))])])])}))],2),n("div",{staticClass:"avancesTable"},[e.candidate.Avances.length?n("table",[e._m(0),n("tbody",e._l(e.candidate.Avances,(function(t){return n("tr",{key:t.id},[t.Montant>0?n("td",[e._v("\n              "+e._s(t.Montant)+"\n            ")]):e._e(),t.Montant>0?n("td",[e._v("\n              "+e._s(e.formatDate(t.dateAvance))+"\n            ")]):e._e(),n("td",[t.Montant>0?n("i",{staticClass:"fas fa-trash-alt",on:{click:function(n){return e.confirmation(t._id)}}}):e._e()])])})),0)]):e._e()]),n("div",{staticClass:"addAvanceForm"},[n("form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.addAvance.apply(null,arguments)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newAvance,expression:"newAvance"}],staticClass:"input",attrs:{type:"number"},domProps:{value:e.newAvance},on:{input:function(t){t.target.composing||(e.newAvance=t.target.value)}}}),n("submit-button",{staticClass:"input btn ",attrs:{btnText:"Ajouter"}})],1)])])])},ne=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("th",[e._v("\n            Avance\n          ")]),n("th",[e._v("\n            Date\n          ")])])}],ae=n("c1df"),re=n.n(ae),se={name:"Avances",props:["id"],components:{submitButton:L},data:function(){return{errors:[],success:[],newAvance:"",hoverd:!1}},methods:Object(i["a"])(Object(i["a"])({},Object(g["b"])(["addNewAvance","deleteAvance","getAllAvances"])),{},{confirmation:function(e){confirm("Etes vous sur de vouloir supprimer?")&&this.removeAvance(e)},addAvance:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=e.newAvance&&!isNaN(e.newAvance)){t.next=5;break}if(e.errors.length){t.next=4;break}return e.errors.push("L'avance doit etre un chiffre"),t.abrupt("return",setTimeout((function(){e.errors=[]}),4e3));case 4:return t.abrupt("return");case 5:return t.next=7,j.a.post("http://localhost:3001/candidates/avances",{id:e.id,newAvance:e.newAvance});case 7:if(n=t.sent,201===n.status&&(a={avance:{Montant:n.data.Montant,dateAvance:n.data.dateAvance},id:e.id},e.$store.commit("avanceAdded",a),e.getAllAvances(e.selectedAuto),e.newAvance=[]),e.success.length){t.next=12;break}return e.success.push("Avance ajoutée avec succès"),t.abrupt("return",setTimeout((function(){e.success=[],e.$emit("hideAvances")}),2e3));case 12:case"end":return t.stop()}}),t)})))()},removeAvance:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e){n.next=8;break}return a={cid:t.id,avid:e},n.next=4,t.deleteAvance(a);case 4:return n.next=6,t.getAllAvances(t.selectedAuto);case 6:t.success.push(" Avance supprimée avec succèss"),setTimeout((function(){t.success=[]}),2e3);case 8:case"end":return n.stop()}}),n)})))()},formatDate:function(e){return re()(e).format("DD-MM-YYYY")}}),computed:Object(i["a"])(Object(i["a"])({},Object(g["c"])(["singleCandidate","selectedAuto"])),{},{candidate:function(){return this.singleCandidate(this.id)}})},ce=se,oe=(n("870d"),Object(f["a"])(ce,te,ne,!1,null,"7f97995e",null)),ie=oe.exports,ue={name:"candidatesList",components:{submitButton:L,addCandidate:ee,Avances:ie},data:function(){return{addForm:!1,editForm:!1,showAvance:!1,id:"",sommeAvances:0,limit:8,chargement:!1}},computed:Object(i["a"])(Object(i["a"])({},Object(g["c"])(["allCandidates","selectedAuto","paid"])),{},{candidates:function(){return this.allCandidates(this.autoEcole,this.limit)},autoEcole:function(){return this.selectedAuto},paye:function(){return" ".concat(this.paid(this.selectedAuto)," / ").concat(this.candidates.length)}}),methods:Object(i["a"])(Object(i["a"])({parseInt:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return parseInt(e)})),sumAvances:function(e){return e.reduce((function(e,t){return t.Montant>0?parseInt(e)+parseInt(t.Montant):0}),0)},triggerAvanceModal:function(){this.showAvance=!this.showAvance},manageAvances:function(e){this.showAvance=!this.showAvance,this.id=e},onscroll:function(){var e=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;e&&(this.chargement,this.limit+=10,this.chargement,this.allCandidates(this.selectedAuto,this.limit))},showForm:function(){this.addForm=!this.addForm},showEditForm:function(){this.editForm=!this.editForm}},Object(g["b"])(["removeCandidate"])),{},{order:function(e,t){return Array.from(e).indexOf(t)+1},confirmation:function(e){confirm("Voulez vous vraiment supprimer cet enregistrement?")&&this.removeCandidate(e)}}),mounted:function(){window.addEventListener("scroll",this.onscroll)},beforeDestroy:function(){window.removeEventListener("scroll",this.onscroll)}},le=ue,de=(n("7d9d"),Object(f["a"])(le,X,J,!1,null,"6d9d6c7b",null)),me=de.exports,fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"formContainer"},[e._m(0),n("div",{staticClass:"errorsContainer"},[e._l(e.errors,(function(t){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.errors.length,expression:"errors.length"}],key:t.index,staticClass:"errors"},[n("ul",[n("li",[e._v(e._s(t))])])])})),e._l(e.success,(function(t){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.success.length,expression:"success.length"}],key:t.index,staticClass:"success"},[n("ul",[n("li",[e._v(e._s(t))])])])}))],2),n("router-link",{attrs:{to:"/candidates"}},[n("submit-button",{staticClass:"annuler",attrs:{btnText:"Annuler",type:"button"}})],1),n("form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.validate.apply(null,arguments)}}},[n("div",{staticClass:"inputsContainer"},[n("div",{staticClass:"leftSide"},[n("div",{staticClass:"selectDiv"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.Fname,expression:"candidate.Fname"}],staticClass:"input fullName",attrs:{type:"text",placeholder:"Prénom"},domProps:{value:e.candidate.Fname},on:{focus:function(t){return e.focused(t)},blur:function(t){return e.focused(t)},input:function(t){t.target.composing||e.$set(e.candidate,"Fname",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.Lname,expression:"candidate.Lname"}],staticClass:"input fullName",attrs:{type:"text",placeholder:"Nom"},domProps:{value:e.candidate.Lname},on:{focus:function(t){return e.focused(t)},blur:function(t){return e.focused(t)},input:function(t){t.target.composing||e.$set(e.candidate,"Lname",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.Cin,expression:"candidate.Cin"}],staticClass:"input",attrs:{type:"text",placeholder:"N° de Cin"},domProps:{value:e.candidate.Cin},on:{focus:function(t){return e.focused(t)},blur:function(t){return e.focused(t)},input:function(t){t.target.composing||e.$set(e.candidate,"Cin",t.target.value)}}})]),n("div",{staticClass:"inputDiv"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.Adresse,expression:"candidate.Adresse"}],staticClass:"input",attrs:{type:"text",placeholder:"Adresse"},domProps:{value:e.candidate.Adresse},on:{focus:function(t){return e.focused(t)},blur:function(t){return e.focused(t)},input:function(t){t.target.composing||e.$set(e.candidate,"Adresse",t.target.value)}}})]),n("div",{staticClass:"inputDiv"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.tel,expression:"candidate.tel"}],staticClass:"input",attrs:{type:"text",placeholder:"N° de tel"},domProps:{value:e.candidate.tel},on:{focus:function(t){return e.focused(t)},blur:function(t){return e.focused(t)},input:function(t){t.target.composing||e.$set(e.candidate,"tel",t.target.value)}}})])]),n("div",{staticClass:"rightSide"},[n("div",{staticClass:"selectDiv"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.candidate.Categorie,expression:"candidate.Categorie"}],on:{focus:function(t){return e.focused(t)},blur:function(t){return e.focused(t)},change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.candidate,"Categorie",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"",selected:"",id:"5"}},[e._v("Catégorie")]),n("option",{attrs:{value:"A"}},[e._v("A")]),n("option",{attrs:{value:"B"}},[e._v("B")]),n("option",{attrs:{value:"C"}},[e._v("C")]),n("option",{attrs:{value:"D"}},[e._v("D")]),n("option",{attrs:{value:"EC"}},[e._v("EC")])]),n("select",{on:{focus:function(t){return e.focused(t)},blur:function(t){return e.focused(t)},change:function(t){return e.changeAuto(t)}}},[n("option",{domProps:{value:e.selected}},[e._v(" "+e._s(e.selected))]),e._l(e.autoEcoles,(function(t){return n("option",{key:t._id,domProps:{value:t.Name}},[e._v(e._s(t.Name))])}))],2),n("select",{directives:[{name:"model",rawName:"v-model",value:e.candidate.Extension,expression:"candidate.Extension"}],on:{focus:function(t){return e.focused(t)},blur:function(t){return e.focused(t)},change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.candidate,"Extension",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"",selected:""}},[e._v("Extension")]),n("option",{attrs:{value:"true"}},[e._v("Oui")]),n("option",{attrs:{value:"false"}},[e._v("Non")])])]),n("div",{staticClass:"inputDiv"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.Price,expression:"candidate.Price"}],staticClass:"input",attrs:{type:"Number",placeholder:"Prix"},domProps:{value:e.candidate.Price},on:{focus:function(t){return e.focused(t)},blur:function(t){return e.focused(t)},input:function(t){t.target.composing||e.$set(e.candidate,"Price",t.target.value)}}})]),n("div",{staticClass:"inputDiv"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.candidate.Referent,expression:"candidate.Referent"}],staticClass:"input",attrs:{type:"text",placeholder:"Referent"},domProps:{value:e.candidate.Referent},on:{focus:function(t){return e.focused(t)},blur:function(t){return e.focused(t)},input:function(t){t.target.composing||e.$set(e.candidate,"Referent",t.target.value)}}})])])]),n("div",{staticClass:"btnContainer"},[n("submit-button",{attrs:{type:"submit",btnText:"Enregistrer"}})],1)])],1)},ve=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"heading"},[n("h1",[e._v("editer un candidat")])])}],he={name:"editCandidate",components:{submitButton:L},data:function(){return{success:[],errors:[],candidate:{},autoEcoles:[]}},methods:Object(i["a"])(Object(i["a"])({focused:function(e){if(e.target.classList.contains("focused"))return e.target.classList.remove("focused")}},Object(g["b"])(["updateCandidate"])),{},{hide:function(){this.$emit("hideEdit")},validate:function(){var e=this;return""===this.candidate.Fname||""===this.candidate.Lname||""===this.candidate.Cin||""===this.candidate.Price||""===this.candidate.Categorie||""===this.candidate.autoEcole?(this.errors.length||this.errors.push("Merci de remplir tous les champs obligators"),setTimeout((function(){e.errors=[]}),4e3)):isNaN(this.candidate.Price)?"le prix doit etre un chiffre":(this.updateCandidate(this.candidate),void(this.success.length||(this.success.push("modifie avec succes"),setTimeout((function(){return e.success=[],e.$router.push({path:"/candidates"})}),1e3))))}}),computed:Object(i["a"])(Object(i["a"])({},Object(g["c"])(["allCandidates","selectedAuto","singleCandidate","allAutoEcoles"])),{},{selected:function(){return this.selectedAuto}}),created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.singleCandidate(e.$route.params.id);case 2:return e.candidate=t.sent,t.next=5,e.allAutoEcoles;case 5:e.autoEcoles=t.sent,console.log(e.selectedAuto);case 7:case"end":return t.stop()}}),t)})))()}},pe=he,be=(n("23f9"),Object(f["a"])(pe,fe,ve,!1,null,"1764dfc2",null)),ge=be.exports,_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sectionContainer"},[e._m(0),n("div",{staticClass:"chargesHeader"},[n("div",{staticClass:"dateFilters"},[n("form",{attrs:{action:""},on:{submit:function(t){return t.preventDefault(),e.reload.apply(null,arguments)}}},[n("select",{domProps:{value:e.selectedMonth},on:{change:function(t){return e.changeMonth(t)}}},e._l(e.months,(function(t){return n("option",{key:t.index},[e._v(e._s(t))])})),0),n("select",{domProps:{value:e.selectedYear},on:{change:function(t){return e.changeYear(t)}}},[n("option",{attrs:{selected:""}},[e._v("Année")]),e._l(e.annees,(function(t){return n("option",{key:t.index},[e._v(e._s(t))])}))],2),n("submit-button",{attrs:{btnText:"Filtrer",type:"submit"}})],1),n("div",{staticClass:"addBtnContainer"},[n("router-link",{staticClass:"button",attrs:{to:"/charges/create"}},[e._v("Nouvelle Charge\n        ")]),n("router-view")],1),n("div",{staticClass:"chargesSum"},[n("h4",[e._v("\n          Total du mois:"),n("span",{staticClass:"totalSpan"},[e._v(e._s(e.total+" Dh")+" ")])])])])]),n("div",{staticClass:"chargesTable"},[n("table",[e._m(1),n("tbody",e._l(e.charges,(function(t){return n("tr",{key:t._id},[n("td",[e._v("\n            "+e._s(t.Libelle)+"\n          ")]),n("td",[e._v("\n            "+e._s(t.Montant)+"\n          ")]),n("td",{staticClass:"dateCharge"},[n("span",[e._v("\n              "+e._s(e.formatDate(t.dateCharge))+"\n            ")]),n("i",{staticClass:"fas fa-trash-alt",on:{click:function(n){return e.confirmation(t._id)}}})])])})),0)])])])},je=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"heading"},[n("h2",[e._v("Charges du mois")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("th",[e._v("\n          Libelle\n        ")]),n("th",[e._v("\n          Montant\n        ")]),n("th",[e._v("\n          Date\n        ")])])}],Ce={components:{submitButton:L},name:"chargesList",data:function(){return{selectedYear:re()().get("year"),selectedMonth:this.currentMonth(),charges:[],addForm:!1,total:0}},methods:Object(i["a"])(Object(i["a"])({},Object(g["b"])(["getCharges","remove"])),{},{toggleAddForm:function(){this.addForm=!this.addForm},getMonthCharges:function(){return this.charges=this.currentMonthCharges(this.selectedYear,this.selectedMonth,this.selectedAuto)},changeMonth:function(e){return this.selectedMonth=e.target.value},changeYear:function(e){return this.selectedYear=e.target.value},confirmation:function(e){confirm("Etes vous sur de vouloir supprimer?")&&(this.remove(e),this.reload())},reload:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getCharges();case 2:e.getMonthCharges(),e.totalCharges();case 4:case"end":return t.stop()}}),t)})))()},currentMonth:function(){return re()().get("month")+1<10?"0".concat(re()().get("month")+1):re()().get("month")+1},formatDate:function(e){return re()(e).format("DD-MM-YYYY")},totalCharges:function(){for(var e=0,t=0;t<=this.charges.length-1;t++)e+=parseInt(this.charges[t].Montant);return this.total=e}}),computed:Object(i["a"])(Object(i["a"])({},Object(g["c"])(["currentMonthCharges","selectedAuto","allCharges"])),{},{months:function(){for(var e=[],t=1;t<=12;t++)t<10&&(t="0".concat(t)),e.push(t);return e},annees:function(){for(var e=[],t=2021;t<=2030;t++)e.push(t);return e}}),created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getCharges();case 2:return t.next=4,e.currentMonthCharges(e.selectedYear,e.selectedMonth,e.selectedAuto);case 4:e.charges=t.sent,e.totalCharges();case 6:case"end":return t.stop()}}),t)})))()}},we=Ce,Ae=(n("1fd4"),Object(f["a"])(we,_e,je,!1,null,"66562f18",null)),Ee=Ae.exports,xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"addFormContainer"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.chargeSubmitted.apply(null,arguments)}}},[n("div",{staticClass:"close"},[n("router-link",{attrs:{to:"/charges"}},[e._v("\n        Fermer X\n      ")])],1),n("div",{staticClass:"formHeader"},[e._v("\n      Ajouter une charge\n    ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.Libelle,expression:"Libelle"}],class:e.errors.length>0?"error":"",attrs:{type:"text",name:"Libelle",placeholder:"Libelle "},domProps:{value:e.Libelle},on:{keyup:function(t){e.errors=[]},input:function(t){t.target.composing||(e.Libelle=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.Montant,expression:"Montant"}],class:e.errors.length>0?"error":"",attrs:{type:"number",name:"Montant",placeholder:"Montant "},domProps:{value:e.Montant},on:{keyup:function(t){e.errors=[]},input:function(t){t.target.composing||(e.Montant=t.target.value)}}}),n("select",{directives:[{name:"model",rawName:"v-model",value:e.autoEcole,expression:"autoEcole"}],on:{focus:function(t){return e.focused(t)},blur:function(t){return e.focused(t)},change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.autoEcole=t.target.multiple?n:n[0]}}},[n("option",[e._v(e._s(e.autoEcole))]),e._l(e.autoEcoles,(function(t){return n("option",{key:t._id,domProps:{value:t.Name}},[e._v("\n        "+e._s(t.Name)+"\n      ")])}))],2),n("input",{directives:[{name:"model",rawName:"v-model",value:e.dateCharge,expression:"dateCharge"}],attrs:{type:"date"},domProps:{value:e.dateCharge},on:{input:function(t){t.target.composing||(e.dateCharge=t.target.value)}}}),n("submit-button",{staticClass:"btnBlock",attrs:{btnText:"Ajouter",type:"submit"}})],1)])},ye=[],Oe={components:{submitButton:L},name:"addCharge",data:function(){return{Libelle:"",Montant:"",dateCharge:"",errors:[]}},methods:Object(i["a"])(Object(i["a"])({},Object(g["b"])(["addCharge"])),{},{chargeSubmitted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=e.Libelle&&""!=e.Montant){t.next=4;break}if(e.errors.length){t.next=3;break}return t.abrupt("return",e.errors.push("Merci de renseigner tous les champs"));case 3:return t.abrupt("return");case 4:return n={Libelle:e.Libelle,Montant:e.Montant,autoEcole:e.autoEcole,dateCharge:new Date(Date.parse(e.dateCharge)).toISOString()},t.next=7,e.addCharge(n);case 7:e.Libelle="",e.Montant="",e.dateCharge="",e.$emit("reload");case 11:case"end":return t.stop()}}),t)})))()}}),computed:Object(i["a"])(Object(i["a"])({},Object(g["c"])(["allAutoEcoles","selectedAuto"])),{},{autoEcoles:function(){return this.allAutoEcoles},autoEcole:function(){return this.selectedAuto}})},ke=Oe,Ne=(n("dd4a"),Object(f["a"])(ke,xe,ye,!1,null,"aa06a7aa",null)),Me=Ne.exports,De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vehiculesContainer"},[e._m(0),n("div",{staticClass:"addBtnContainer btnToLeft"},[n("router-link",{staticClass:"button",attrs:{to:"/vehicules/create"}},[e._v("Nouveau vehicule\n    ")]),n("router-view")],1),n("div",{staticClass:"vehicules"},[n("table",[n("th",[e._v("\n        N Immatriculation\n      ")]),n("th",[e._v("\n        Date visite technique\n      ")]),n("th",[e._v("\n        Date assurance\n      ")]),n("tbody",e._l(e.vehicules,(function(t){return n("tr",{key:t._id},[n("td",[e._v("\n            "+e._s(t.Immat)+"\n          ")]),n("td",[e._v("\n            "+e._s(e.formatDate(t.dateAssur))+"\n          ")]),n("td",{staticClass:"deleteContainer"},[e._v("\n            "+e._s(e.formatDate(t.dateVisite))+"\n            "),n("i",{staticClass:"fas fa-trash-alt",on:{click:function(n){return e.confirmation(t._id)}}})])])})),0)])])])},Re=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"heading"},[n("h2",[e._v("\n      Gestion des véhicules\n    ")])])}],Pe={name:"vehiculesList",components:{},methods:Object(i["a"])(Object(i["a"])({},Object(g["b"])(["getVehicules","removeVehicule"])),{},{confirmation:function(e){confirm("Etes vous sur de vouloir supprimer ce vehicule")&&this.removeVehicule(e)},formatDate:function(e){var t=new Date(e).getDate(),n=new Date(e).getMonth()+1,a=new Date(e).getFullYear();return t<10&&(t="0".concat(t)),n<10&&(n="0".concat(n)),"".concat(t,"-").concat(n,"-").concat(a)}}),computed:Object(i["a"])(Object(i["a"])({},Object(g["c"])(["allVehicules","selectedAuto"])),{},{vehicules:function(){return this.allVehicules(this.selectedAuto)}}),created:function(){this.getVehicules()}},Le=Pe,Te=(n("676a"),Object(f["a"])(Le,De,Re,!1,null,"1f9fd8a0",null)),Ye=Te.exports,Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"addFormContainer"},[n("form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.addVehicule.apply(null,arguments)}}},[n("div",{staticClass:"close"},[n("router-link",{attrs:{to:"/vehicules"}},[e._v("\n        Fermer X\n      ")])],1),n("div",{staticClass:"formHeader"},[e._v("\n      Ajouter un vehicule\n    ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.Immat,expression:"Immat"}],class:e.errors.length>0?"error":"",attrs:{type:"text",name:"Immat",placeholder:"Immatriculation "},domProps:{value:e.Immat},on:{keyup:function(t){e.errors=[]},input:function(t){t.target.composing||(e.Immat=t.target.value)}}}),n("select",{directives:[{name:"model",rawName:"v-model",value:e.auto,expression:"auto"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.auto=t.target.multiple?n:n[0]}}},[n("option",[e._v(e._s(e.autoEcole))]),e._l(e.autoEcoles,(function(t){return n("option",{key:t._id,domProps:{value:t.Name}},[e._v("\n        "+e._s(t.Name)+"\n      ")])}))],2),n("input",{directives:[{name:"model",rawName:"v-model",value:e.dateAssur,expression:"dateAssur"}],class:e.errors.length>0?"error":"",attrs:{name:"dateAssur",placeholder:"Date assurance"},domProps:{value:e.dateAssur},on:{click:e.setDateType,keyup:function(t){e.errors=[]},input:function(t){t.target.composing||(e.dateAssur=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.dateVisite,expression:"dateVisite"}],class:e.errors.length>0?"error":"",attrs:{name:"dateVisite",placeholder:"Date visite technique"},domProps:{value:e.dateVisite},on:{click:e.setDateType,keyup:function(t){e.errors=[]},input:function(t){t.target.composing||(e.dateVisite=t.target.value)}}}),n("submit-button",{staticClass:"btnBlock",attrs:{btnText:"Ajouter",type:"submit"}})],1)])},Ie=[],$e={components:{submitButton:L},name:"addVehicule",data:function(){return{Immat:"",dateAssur:"",dateVisite:"",auto:"",errors:[],success:[]}},computed:Object(i["a"])(Object(i["a"])({},Object(g["c"])(["selectedAuto","allAutoEcoles"])),{},{autoEcole:function(){return this.selectedAuto},autoEcoles:function(){return this.allAutoEcoles}}),methods:Object(i["a"])({setDateType:function(e){e.target.setAttribute("type","date")},addVehicule:function(){var e=this;if(""==this.Immat||""==this.dateAssur||""==this.dateVisite)return this.errors.length?void 0:this.errors.push("Merci de renseigner tous les champs");var t={Immat:this.Immat,dateAssur:this.dateAssur,dateVisite:this.dateVisite,autoEcole:this.auto};this.addNewVehicule(t),this.success.push("Vehicule ajoute avec succes"),setTimeout((function(){e.success=[]}),3e3),this.Immat="",this.dateVisite="",this.dateAssur="",this.auto=this.autoEcole}},Object(g["b"])(["addNewVehicule"]))},Se=$e,Ve=(n("6037"),Object(f["a"])(Se,Fe,Ie,!1,null,"39155863",null)),Be=Ve.exports,ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"echeancesContainer"},[e._m(0),n("div"),n("div",{staticClass:"addBtnContainer btnToLeft"},[n("router-link",{staticClass:"button",attrs:{to:"/echeances/create"}},[e._v("Nouvelle echeance\n    ")]),n("router-view")],1),n("div",{staticClass:"echeances"},[n("table",[n("th",[e._v("\n        Libelle\n      ")]),n("th",[e._v("\n        Date echeance\n      ")]),n("tbody",e._l(e.echeances,(function(t){return n("tr",{key:t._id,attrs:{id:t._id}},[n("td",[e._v("\n            "+e._s(t.Libelle)+"\n          ")]),n("td",{staticClass:"deleteContainer"},[n("span",[e._v(e._s(e.formatEcheanceDate(t.jourEcheance))+" ")]),n("i",{staticClass:"fas fa-trash-alt",on:{click:function(n){return e.confirmation(t._id)}}})])])})),0)])])])},He=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"heading"},[n("h2",[e._v("\n      Liste echeances\n    ")])])}],We=(n("d81d"),{name:"echeancesList",components:{},data:function(){return{closestEcheance:!1}},methods:Object(i["a"])(Object(i["a"])({},Object(g["b"])(["getEcheances","removeEcheance"])),{},{reload:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getEcheances();case 2:return t.next=4,e.calculEcheance();case 4:case"end":return t.stop()}}),t)})))()},calculEcheance:function(){var e=this;this.echeances.length&&this.echeances.map((function(t){var n=e.formatEcheanceDate(t.jourEcheance),a=new Date;re()(n,"DD-MM-YYYY").year()===a.getFullYear()&&parseInt(re()(n,"DD-MM-YYYY").format("M"))===parseInt(a.getMonth()+1)&&parseInt(re()(n,"DD-MM-YYYY").date())-parseInt(a.getDate())<=5&&(document.getElementById(t._id).style.color="red")}))},confirmation:function(e){confirm("Voulez vous vraiment supprimer cet echeance?")&&this.removeEcheance(e)},formatEcheanceDate:function(e){e=parseInt(e);var t=new Date,n=t.getDate(),a=t.getMonth()+1,r=t.getFullYear();e<n&&(a=12===parseInt(a)?1:parseInt(a)+1),a<10&&(a="0".concat(a)),e<10&&(e="0".concat(e));var s="".concat(e,"-").concat(a,"-").concat(r);return s}}),computed:Object(i["a"])(Object(i["a"])({},Object(g["c"])(["allEcheances","selectedAuto"])),{},{echeances:function(){return this.allEcheances(this.selectedAuto)}}),created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getEcheances();case 2:return t.next=4,e.calculEcheance();case 4:case"end":return t.stop()}}),t)})))()}}),qe=We,Xe=(n("b06a"),Object(f["a"])(qe,ze,He,!1,null,null,null)),Je=Xe.exports,Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"addFormContainer"},[n("form",{attrs:{method:"post"},on:{submit:function(t){return t.preventDefault(),e.addNewEcheance.apply(null,arguments)}}},[n("div",{staticClass:"close"},[n("router-link",{attrs:{to:"/echeances"}},[e._v("\n        Fermer X\n      ")])],1),n("div",{staticClass:"formHeader"},[e._v("\n      Ajouter une echeance\n    ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.Libelle,expression:"Libelle"}],class:e.errors.length>0?"error":"",attrs:{type:"text",name:"Libelle",placeholder:"Libelle"},domProps:{value:e.Libelle},on:{keyup:function(t){e.errors=[]},input:function(t){t.target.composing||(e.Libelle=t.target.value)}}}),n("select",{class:e.errors.length>0?"error":"",attrs:{id:"6"},domProps:{value:e.jourEcheance},on:{change:function(t){return e.changeJour(t)}}},[n("option",{attrs:{value:"",selected:""}},[e._v("Jour de l'echeance")]),e._l(e.jours,(function(t){return n("option",{key:t.index},[e._v(e._s(t))])}))],2),n("select",{directives:[{name:"model",rawName:"v-model",value:e.autoEcole,expression:"autoEcole"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.autoEcole=t.target.multiple?n:n[0]}}},[n("option",[e._v(e._s(e.autoEcole))]),e._l(e.autoEcoles,(function(t){return n("option",{key:t._id,domProps:{value:t.Name}},[e._v("\n        "+e._s(t.Name)+"\n      ")])})),n("option",{attrs:{value:"autres"}},[e._v("Autres")])],2),n("submit-button",{staticClass:"btnBlock",attrs:{btnText:"Ajouter",type:"submit"}})],1)])},Ge=[],Ke={name:"addEcheance",components:{submitButton:L},data:function(){return{Libelle:"",jourEcheance:"",autoEcole:"",success:[],errors:[]}},methods:Object(i["a"])(Object(i["a"])({changeJour:function(e){this.jourEcheance=e.target.value}},Object(g["b"])(["createEcheance"])),{},{addNewEcheance:function(){var e=this;if((""==this.Libelle||""==this.jourEcheance)&&!this.errors.length)return this.errors.push("Merci de remplir tous les champs");var t={Libelle:this.Libelle,jourEcheance:this.jourEcheance,autoEcole:this.autoEcole};this.createEcheance(t),this.success.push("Echeance ajoutee avec succes"),this.Libelle="",this.jourEcheance="",setTimeout((function(){e.success=[],e.errors=[]}))}}),computed:Object(i["a"])(Object(i["a"])({},Object(g["c"])(["selectedAuto","allAutoEcoles"])),{},{autoEcoles:function(){return this.allAutoEcoles},jours:function(){for(var e=[],t=1;t<=31;t++)t<10&&(t="0".concat(t)),e.push(t);return e}}),created:function(){this.autoEcole=this.selectedAuto}},Qe=Ke,Ze=(n("a4d0"),Object(f["a"])(Qe,Ue,Ge,!1,null,"636c8776",null)),et=Ze.exports,tt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"homeContainer"},[n("div",{staticClass:"card candidats"},[n("h3",[e._v("\n      Nouveau candidats\n    ")]),n("div",{staticClass:"cardItems"},[n("span",[e._v("cette semaine:")]),n("span",{staticClass:"number"},[e._v("+ "+e._s(e.candidatsDeSemaine))])]),n("div",{staticClass:"cardItems"},[n("span",[e._v("ce mois:")]),n("span",{staticClass:"number"},[e._v("+ "+e._s(e.candidatsDuMois))])]),n("div",{staticClass:"cardItems"},[n("span",[e._v("cet annee")]),n("span",{staticClass:"number"},[e._v("+ "+e._s(e.candidatsDelAnnee))])])]),n("div",{staticClass:"card charges"},[n("h3",[e._v("\n      Charges du Mois\n    ")]),n("div",{staticClass:"cardItems"},[n("span",[e._v("cette semaine:")]),n("span",{staticClass:"number"},[e._v(" "+e._s(e.chargesSemaine)+" ")])]),n("div",{staticClass:"cardItems"},[n("span",[e._v("ce mois:")]),n("span",{staticClass:"number"},[e._v(" "+e._s(e.totalMonthCharges))])]),n("div",{staticClass:"cardItems"},[n("span",[e._v("cet annee")]),n("span",{staticClass:"number"},[e._v(" "+e._s(e.totalYearCharges))])])]),n("div",{staticClass:"card encaisse"},[n("h3",[e._v("\n      Total encaisse\n    ")]),n("div",{staticClass:"cardItems"},[n("span",[e._v("cette semaine:")]),n("span",{staticClass:"number"},[e._v(" "+e._s(e.totalEncaisseWeek))])]),n("div",{staticClass:"cardItems"},[n("span",[e._v("ce mois:")]),n("span",{staticClass:"number"},[e._v(e._s(e.totalEncaisseMonth))])]),n("div",{staticClass:"cardItems"},[n("span",[e._v("cet annee")]),n("span",{staticClass:"number"},[e._v(e._s(e.totalEncaisseYear))])])])])},nt=[],at={name:"home",data:function(){return{beneficesTotal:0,totalCharges:0,Encaisse:0,beneficesDuMois:0,Caisse:0,Banque:0}},methods:Object(i["a"])(Object(i["a"])({},Object(g["b"])(["getCharges"])),{},{sum_array:function(e){for(var t=0,n=0;n<e.length;n++)for(var a=0;a<e[n].length;a++)isNaN(e[n][a])&&(e[n][a]=0),t+=e[n][a];return t}}),computed:Object(i["a"])(Object(i["a"])({},Object(g["c"])(["candidatesSemaine","candidatesYear","selectedAuto","candidatesMonth","encaisseThisYear","encaisseThisMonth","encaisseThisWeek","weekCharges","currentMonthCharges","yearCharges","allAvances"])),{},{totalMonthCharges:function(){return this.monthCharges.reduce((function(e,t){return parseInt(e)+parseInt(t.Montant)}),0)},candidatsDeSemaine:function(){return this.candidatesSemaine(this.selectedAuto)},candidatsDuMois:function(){return this.candidatesMonth(this.selectedAuto)},candidatsDelAnnee:function(){return this.candidatesYear(this.selectedAuto)},totalEncaisseMonth:function(){return this.encaisseThisMonth},totalEncaisseWeek:function(){return this.encaisseThisWeek},totalEncaisseYear:function(){return this.encaisseThisYear},chargesSemaine:function(){return this.weekCharges(this.selectedAuto).reduce((function(e,t){return parseInt(e)+parseInt(t.Montant)}),0)},monthCharges:function(){return this.currentMonthCharges(re()().get("year"),re()().format("MM"),this.selectedAuto)},totalYearCharges:function(){return this.yearCharges(this.selectedAuto).reduce((function(e,t){return parseInt(e)+parseInt(t.Montant)}),0)}}),created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getCharges();case 2:case"end":return t.stop()}}),t)})))()}},rt=at,st=(n("3bea"),Object(f["a"])(rt,tt,nt,!1,null,"ebea9a2c",null)),ct=st.exports,ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sectionContainer"},[e._m(0),n("div",{staticClass:"addBtnContainer btnToLeft"},[n("router-link",{staticClass:"button",attrs:{to:"/personnel/create"}},[e._v("Ajouter ")]),n("router-view")],1),n("div",{staticClass:"personnel"},[n("table",[n("th",[e._v("\n        Nom\n      ")]),n("th",[e._v("\n        Date embauche\n      ")]),n("th",[e._v("\n        salaire\n      ")]),n("th",[e._v("\n        Auto ecole\n      ")]),n("tbody",e._l(e.personnel,(function(t){return n("tr",{key:t._id},[n("td",[e._v("\n            "+e._s(t.Name)+"\n          ")]),n("td",[e._v("\n            "+e._s(t.dateEmbauche)+"\n          ")]),n("td",[e._v("\n            "+e._s(t.salaire)+"\n          ")]),n("td",[e._v("\n            "+e._s(t.autoEcole)+"\n          ")])])})),0)])])])},it=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"heading"},[n("h2",[e._v("\n      Gestion du Personnel\n    ")])])}],ut={name:"personnelList",components:{},methods:Object(i["a"])(Object(i["a"])({},Object(g["b"])(["getPersonnel","removeEmploye"])),{},{confirmation:function(e){confirm("Etes vous sur de vouloir supprimer cet emplye")&&this.removeEmploye(e)},formatDate:function(e){var t=new Date(e).getDate(),n=new Date(e).getMonth()+1,a=new Date(e).getFullYear();return t<10&&(t="0".concat(t)),n<10&&(n="0".concat(n)),"".concat(t,"-").concat(n,"-").concat(a)}}),computed:Object(i["a"])(Object(i["a"])({},Object(g["c"])(["allPersonnel"])),{},{personnel:function(){return this.allPersonnel}}),created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getPersonnel();case 2:case"end":return t.stop()}}),t)})))()}},lt=ut,dt=(n("b74d"),Object(f["a"])(lt,ot,it,!1,null,"685153a7",null)),mt=dt.exports,ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"addFormContainer"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.chargeSubmitted.apply(null,arguments)}}},[n("div",{staticClass:"close"},[n("router-link",{attrs:{to:"/personnel"}},[e._v("\n        Fermer X\n      ")])],1),e.message?n("p",[e._v("\n      "+e._s(e.success)+"\n    ")]):e._e(),n("div",{staticClass:"formHeader"},[e._v("\n      Ajouter un mouveau employe\n    ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.Name,expression:"Name"}],class:e.errors.length>0?"error":"",attrs:{type:"text",placeholder:"Nom et Prenom "},domProps:{value:e.Name},on:{keyup:function(t){e.errors=[]},input:function(t){t.target.composing||(e.Name=t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.salaire,expression:"salaire"}],class:e.errors.length>0?"error":"",attrs:{type:"number",placeholder:"Salaire "},domProps:{value:e.salaire},on:{keyup:function(t){e.errors=[]},input:function(t){t.target.composing||(e.salaire=t.target.value)}}}),n("select",{directives:[{name:"model",rawName:"v-model",value:e.autoEcole,expression:"autoEcole"}],on:{focus:function(t){return e.focused(t)},blur:function(t){return e.focused(t)},change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.autoEcole=t.target.multiple?n:n[0]}}},[n("option",[e._v(e._s(e.autoEcole))]),e._l(e.autoEcoles,(function(t){return n("option",{key:t._id,domProps:{value:t.Name}},[e._v("\n        "+e._s(t.Name)+"\n      ")])}))],2),n("input",{directives:[{name:"model",rawName:"v-model",value:e.dateEmbauche,expression:"dateEmbauche"}],attrs:{type:"date"},domProps:{value:e.dateEmbauche},on:{input:function(t){t.target.composing||(e.dateEmbauche=t.target.value)}}}),n("submit-button",{staticClass:"btnBlock",attrs:{btnText:"Ajouter",type:"submit"}})],1)])},vt=[],ht={components:{submitButton:L},name:"addPersonnel",data:function(){return{Name:"",salaire:"",dateEmbauche:"",errors:[],success:"Nouveau employe ajoute avec succes",message:!1}},methods:Object(i["a"])(Object(i["a"])({},Object(g["b"])(["addPersonnel"])),{},{showMessage:function(){return this.message=!0},chargeSubmitted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=e.salaire&&""!=e.Name&&""!=e.dateEmbauche){t.next=4;break}if(e.errors.length){t.next=3;break}return t.abrupt("return",e.errors.push("Merci de renseigner tous les champs"));case 3:return t.abrupt("return");case 4:return n={Name:e.Name,salaire:e.salaire,autoEcole:e.autoEcole,dateEmbauche:e.dateEmbauche},t.next=7,e.addPersonnel(n);case 7:setTimeout((function(){e.showMessage(),e.$router.push({name:"personnelList"})}),2e3),e.Name="",e.salaire="",e.dateEmbauche="";case 11:case"end":return t.stop()}}),t)})))()}}),computed:Object(i["a"])(Object(i["a"])({},Object(g["c"])(["allAutoEcoles","selectedAuto"])),{},{autoEcoles:function(){return this.allAutoEcoles},autoEcole:function(){return this.selectedAuto}})},pt=ht,bt=(n("0442"),Object(f["a"])(pt,ft,vt,!1,null,"8c3675fe",null)),gt=bt.exports,_t=[{path:"/tableaudebord",component:ct,name:"tableauDeBord"},{path:"/personnel",component:mt,name:"personnelList",children:[{path:"/personnel/create",component:gt,name:"addPersonnel"}]},{path:"/candidates/edit/:id",component:ge,name:"edit"},{path:"/candidates",component:me,name:"candidates",children:[{path:"/candidates/create",component:ee,name:"createCandidate"},{path:"/candidates/avances/:id",component:ie,name:"avances"}]},{path:"",component:E},{path:"/vehicules",component:Ye,children:[{path:"/vehicules/create",component:Be,name:"createVehicule"}]},{path:"/charges",name:"charges",component:Ee,children:[{path:"/charges/create",component:Me}]},{path:"/echeances",name:"echeances",component:Je,children:[{path:"/echeances/create",component:et,name:"createEcheance"}]}],jt=new r["a"]({mode:"history",routes:_t,base:"/"}),Ct=jt,wt=(n("4de4"),n("7db0"),"/api/candidates"),At={candidates:[],Avances:[]},Et={allCandidates:function(e){return function(t,n){var a=[];return e.candidates.map((function(e){e.autoEcole===t&&a.unshift(e)})),a.slice(0,n)}},paid:function(e){return function(t){var n=e.candidates.filter((function(e){return e.autoEcole===t&&parseInt(e.Price)===e.Avances.reduce((function(e,t){return t.Montant>0?parseInt(e)+parseInt(t.Montant):0}),0)}));return n.length}},allAvances:function(e){return e.Avances},singleCandidate:function(e){return function(t){return e.candidates.find((function(e){return e._id===t}))}},candidatesSemaine:function(e){return function(t){var n=[];return e.candidates.map((function(e){e.autoEcole===t&&re()(e.dateEntree).isoWeek()===re()().isoWeek()&&n.push(e)})),n.length}},candidatesMonth:function(e){return function(t){var n=[];return e.candidates.map((function(e){e.autoEcole===t&&re()(e.dateEntree).format("MM")===re()().format("MM")&&n.push(e)})),n.length}},candidatesYear:function(e){return function(t){var n=[];return e.candidates.map((function(e){e.autoEcole===t&&re()(e.dateEntree).format("YYYY")===re()().format("YYYY")&&n.push(e)})),n.length}},encaisseThisWeek:function(e){var t=[];return e.Avances.map((function(e){e.Avances.map((function(e){re()(e.dateAvance).isoWeek()===re()().isoWeek()&&null!=e.Montant&&t.push(e.Montant)}))})),t.reduce((function(e,t){return parseInt(e)+parseInt(t)}),0)},encaisseThisMonth:function(e){var t=[];return e.Avances.map((function(e){e.Avances.map((function(e){re()(e.dateAvance).format("MM")===re()().format("MM")&&null!=e.Montant&&t.push(e.Montant)}))})),t.reduce((function(e,t){return parseInt(e)+parseInt(t)}),0)},encaisseThisYear:function(e){var t=[];return e.Avances.map((function(e){e.Avances.map((function(e){re()(e.dateAvance).format("YYYY")===re()().format("YYYY")&&null!=e.Montant&&t.push(e.Montant)}))})),t.reduce((function(e,t){return parseInt(e)+parseInt(t)}),0)}},xt={getAllAvances:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.prev=1,e.next=4,j.a.get("".concat(wt,"/avances/").concat(n));case 4:r=e.sent,200===r.status&&a("avancesLoaded",r.data),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t,n){return e.apply(this,arguments)}return t}(),getCandidates:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,j.a.get("".concat(wt));case 3:a=e.sent,200===a.status&&n("candidatesFetched",a.data);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),addCandidate:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,j.a.post("".concat(wt,"/create"),n,{headers:{"Content-Type":"application/json"}});case 3:r=e.sent,a("candidateAdded",r.data);case 5:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),updateCandidate:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,j.a.post("".concat(wt,"/update/").concat(n._id),n,{headers:{"Content-Type":"application/json"}});case 3:a("candidateUpdated",n);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),removeCandidate:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,j.a.delete("".concat(wt,"/delete/").concat(n));case 3:r=e.sent,200===r.status&&a("candidateDeleted",n);case 5:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),getCandidateAvances:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,a("candidateAvancesRequired",n);case 3:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),deleteAvance:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,j.a.delete("".concat(wt,"/avance/delete/").concat(n.cid,"/").concat(n.avid));case 3:return r=e.sent,a("avanceRemoved",r.data),e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},yt={candidatesFetched:function(e,t){return e.candidates=t},candidateDeleted:function(e,t){return e.candidates=e.candidates.filter((function(e){return e._id!=t}))},candidateAdded:function(e,t){return e.candidates.unshift(t)},candidateUpdated:function(e,t){return e.candidates=e.candidates.map((function(e){return e._id===t._id?Object.assign({},e,t):e}))},avanceAdded:function(e,t){e.candidates=e.candidates.map((function(e){return e._id===t.id&&e.Avances.push(t.avance),e}))},avanceRemoved:function(e,t){e.candidates=e.candidates.map((function(e){return e._id===t.cid&&e.Avances.filter((function(e){e._id,t.avid})),e}))},avancesLoaded:function(e,t){return e.Avances=t}},Ot={state:At,actions:xt,mutations:yt,getters:Et},kt="/api/charges",Nt={charges:[]},Mt={allCharges:function(e){return e.charges},currentMonthCharges:function(e){return function(t,n,a){return e.charges.filter((function(e){return e.autoEcole===a&&re()(e.dateCharge).get("month")+1===parseInt(n)&&re()(e.dateCharge).get("year")===parseInt(t)}))}},weekCharges:function(e){return function(t){return e.charges.filter((function(e){return e.autoEcole===t&&re()(e.dateCharge).isoWeek()===re()().isoWeek()}))}},yearCharges:function(e){return function(t){return e.charges.filter((function(e){return e.autoEcole===t&&re()(e.dateCharge).format("YYYY")===re()().format("YYYY")}))}}},Dt={getCharges:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,j.a.get("".concat(kt));case 3:a=e.sent,200===a.status&&n("chargesLoaded",a.data);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),addCharge:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,j.a.post("".concat(kt,"/create"),n,{headers:{"Content-Type":"application/json"}});case 3:r=e.sent,a("chargeAdded",r.data);case 5:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),remove:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.commit;try{j.a.delete("".concat(kt,"/").concat(n)),a("chargeDeleted",n)}catch(r){console.log(r)}case 2:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},Rt={chargesLoaded:function(e,t){return e.charges=t},chargeAdded:function(e,t){return e.charges.unshift(t)},chargeDeleted:function(e,t){return e.charges=e.charges.filter((function(e){return e._id!==t}))}},Pt={state:Nt,getters:Mt,actions:Dt,mutations:Rt},Lt="/api/vehicules",Tt={vehicules:[]},Yt={allVehicules:function(e){return function(t){return e.vehicules.filter((function(e){return e.autoEcole===t}))}}},Ft={getVehicules:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,j.a.get("".concat(Lt));case 3:a=e.sent,n("vehiculesLoaded",a.data);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),addNewVehicule:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,j.a.post("".concat(Lt,"/create"),n,{headers:{"Content-Type":"application/json"}});case 3:r=e.sent,a("vehiculeAdded",r.data);case 5:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),removeVehicule:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,j.a.delete("".concat(Lt,"/delete/").concat(n));case 3:a("vehiculeRemoved",n);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},It={vehiculesLoaded:function(e,t){return e.vehicules=t},vehiculeAdded:function(e,t){return e.vehicules.unshift(t)},vehiculeRemoved:function(e,t){return e.vehicules=e.vehicules.filter((function(e){return e._id!==t}))}},$t={state:Tt,getters:Yt,actions:Ft,mutations:It},St="/api/echeances",Vt={echeances:[]},Bt={allEcheances:function(e){return function(t){return e.echeances.filter((function(e){return e.autoEcole===t}))}}},zt={getEcheances:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,j.a.get("".concat(St));case 3:a=e.sent,n("echeancesLoaded",a.data);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),createEcheance:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,j.a.post("".concat(St,"/create"),n,{headers:{"Content-Type":"application/json"}});case 3:r=e.sent,a("newEcheanceAdded",r.data);case 5:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),removeEcheance:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.prev=1,e.next=4,j.a.delete("".concat(St,"/delete/").concat(n));case 4:r=e.sent,a("echeanceDeleted",r.data._id),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t,n){return e.apply(this,arguments)}return t}()},Ht={echeancesLoaded:function(e,t){return e.echeances=t},newEcheanceAdded:function(e,t){return e.echeances.unshift(t)},echeanceDeleted:function(e,t){return e.echeances=e.echeances.filter((function(e){return e._id!==t}))}},Wt={state:Vt,getters:Bt,actions:zt,mutations:Ht},qt="/api/autoecoles",Xt={autoEcoles:[],selectedOne:"Akka",benefices:0,authenticated:!1},Jt={selectedAuto:function(e){return e.selectedOne},allAutoEcoles:function(e){return e.autoEcoles},isAuthenticated:function(e){return e.authenticated}},Ut={login:function(e){var t=e.commit;t("loggedIn")},selectNewAuto:function(e,t){var n=e.commit;n("newAutoSelected",t)},getAutoEcoles:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,j.a.get("".concat(qt));case 3:a=e.sent,200===a.status&&n("autoEcolesLoaded",a.data);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),addNewAutoEcole:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,j.a.post("".concat(qt,"/create"),n,{headers:{"Content-Type":"application/json"}});case 3:r=e.sent,201===r.status&&a("newAutoEcoleAdded",n);case 5:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},Gt={newAutoSelected:function(e,t){return e.selectedOne=t},autoEcolesLoaded:function(e,t){return e.autoEcoles=t},newAutoEcoleAdded:function(e,t){return e.autoEcoles.push(t)},loggedIn:function(e){return e.authenticated=!0}},Kt={state:Xt,getters:Jt,actions:Ut,mutations:Gt},Qt="/api/personnel",Zt={personnel:[]},en={allPersonnel:function(e){return e.personnel}},tn={getPersonnel:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,j.a.get("".concat(Qt));case 3:a=e.sent,200===a.status&&n("personnelLoaded",a.data);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),addPersonnel:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,j.a.post("".concat(Qt,"/create"),n,{headers:{"Content-Type":"application/json"}});case 3:r=e.sent,201===r.status&&a("personnelAdded",r.data);case 5:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),removeEmploye:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,j.a.post("".concat(Qt,"/create"),n,{headers:{"Content-Type":"application/json"}});case 3:r=e.sent,201===r.status&&a("personnelAdded",r.data);case 5:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},nn={personnelLoaded:function(e,t){return e.personnel=t},personnelAdded:function(e,t){return e.personnel.push(t)}},an={state:Zt,getters:en,actions:tn,mutations:nn};a["a"].use(g["a"]);var rn=new g["a"].Store({modules:{candidates:Ot,charges:Pt,vehicules:$t,echeances:Wt,globalState:Kt,personnel:an}}),sn=rn,cn=n("2ead"),on=n.n(cn),un=n("2b27"),ln=n.n(un);a["a"].config.productionTip=!1,a["a"].use(r["a"]),a["a"].use(on.a),a["a"].use(ln.a),new a["a"]({render:function(e){return e(q)},router:Ct,store:sn}).$mount("#app")},6037:function(e,t,n){"use strict";n("a278")},6043:function(e,t,n){},"63b4":function(e,t,n){},"65de":function(e,t,n){},"676a":function(e,t,n){"use strict";n("0dfe")},"7d9d":function(e,t,n){"use strict";n("d978")},"870d":function(e,t,n){"use strict";n("934b")},"934b":function(e,t,n){},"9f79":function(e,t,n){},a278:function(e,t,n){},a4d0:function(e,t,n){"use strict";n("63b4")},a830:function(e,t,n){},adb3:function(e,t,n){},afd1:function(e,t,n){},b06a:function(e,t,n){"use strict";n("f517")},b74d:function(e,t,n){"use strict";n("a830")},b976:function(e,t,n){},d34d:function(e,t,n){},d978:function(e,t,n){},daaf:function(e,t,n){},dd4a:function(e,t,n){"use strict";n("9f79")},ecd1:function(e,t,n){},f517:function(e,t,n){},f521:function(e,t,n){"use strict";n("daaf")}});
//# sourceMappingURL=app.37ec06e9.js.map